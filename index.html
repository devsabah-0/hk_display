<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Screenshot Viewer</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
            text-align: center;
        }
        img {
            max-width: 100%;
            height: auto;
        }
    </style>
</head>
<body>
    <h1 id="date-header"></h1>
    <img id="screenshot" alt="Latest Screenshot">

    <script>
        function formatDate(date) {
            const options = { day: '2-digit', month: 'short', year: 'numeric' };
            return date.toLocaleDateString('en-US', options).replace(/ /g, '-').toUpperCase();
        }

        document.getElementById('date-header').innerText = formatDate(new Date());

        const defaultScreenshots = [
            'CleanShot 2024-12-17 at 00.38.49@2x.png',
            'CleanShot 2024-12-17 at 00.40.07@2x.png',
            'CleanShot 2024-12-17 at 00.42.25@2x.png',
            'CleanShot 2024-12-17 at 00.46.28@2x.png',
            'CleanShot 2024-12-17 at 01.00.05@2x.png',
            'CleanShot 2024-12-17 at 01.03.00@2x.png',
            'CleanShot 2024-12-17 at 01.32.07@2x.png'
        ];

        const storedScreenshots = JSON.parse(localStorage.getItem('screenshots')) || [];
        const screenshots = [...new Set([...defaultScreenshots, ...storedScreenshots])];

        screenshots.sort((a, b) => {
            const dateA = new Date(a.match(/\d{4}-\d{2}-\d{2} at \d{2}\.\d{2}\.\d{2}/)[0].replace(' at ', 'T').replace(/\./g, ':'));
            const dateB = new Date(b.match(/\d{4}-\d{2}-\d{2} at \d{2}\.\d{2}\.\d{2}/)[0].replace(' at ', 'T').replace(/\./g, ':'));
            return dateB - dateA;
        });

        if (screenshots.length) {
            document.getElementById('screenshot').src = `images/${screenshots[0]}`;
        } else {
            document.getElementById('screenshot').alt = 'No screenshots available';
        }
    </script>
</body>
</html>
